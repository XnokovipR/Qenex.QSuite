<Window x:Class="Qenex.QInsight.Views.ShellWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Qenex.QInsight.Views"
		xmlns:vm="clr-namespace:Qenex.QInsight.ViewModels"
		xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
        xmlns:qui="clr-namespace:Qenex.QLibs.QUI.TelerikDocking;assembly=Qenex.QLibs.QUI.TelerikDocking"
		xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"

        Background="{DynamicResource AppBorderBrush}"
        Title="QInsight" Height="450" Width="800">
	
	<Window.DataContext>
		<vm:ShellWindowModel/>
	</Window.DataContext>
	
	<i:Interaction.Triggers>
		<i:EventTrigger EventName="Loaded">
			<i:InvokeCommandAction Command="{Binding ShellWindowLoadedCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
		</i:EventTrigger>

		<i:EventTrigger EventName="Closing">
			<i:InvokeCommandAction Command="{Binding ShellWindowClosingCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
		</i:EventTrigger>

		<i:EventTrigger EventName="SizeChanged">
			<i:InvokeCommandAction Command="{Binding ShellWindowSizeChangedCommand}"/>
		</i:EventTrigger>

		<i:EventTrigger EventName="LocationChanged">
			<i:InvokeCommandAction Command="{Binding ShellWindowLocationChangedCommand}"/>
		</i:EventTrigger>
	</i:Interaction.Triggers>
	
	<Border x:Name="CustomBorder"
	        BorderThickness="1"
	        CornerRadius="0"
	        Background="Transparent"
	        BorderBrush="{DynamicResource AppBorderBrush}">
		
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>	
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>
			
			<telerik:RadRibbonView x:Name="RibbonMenu" Grid.Row="0"
			                       TitleBarVisibility="Collapsed" ContentHeight="NaN" ApplicationButtonVisibility="Collapsed">

				<telerik:RadRibbonView.Items>
					<!-- Ribbon Menu - Home -->
					<telerik:RadRibbonTab Header="Home" x:Name="HomeTab">
						<telerik:RadRibbonGroup Header="Project">
							<telerik:RadRibbonButton
	                            Text="Open" 
	                            Size="Large"
	                            SmallImage="../Icons/Menu/OpenProject.png"
	                            Command="{Binding RibbonOpenProjectCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
							<telerik:RadRibbonButton
	                            Text="Close" 
	                            Size="Large"
	                            SmallImage="../Icons/Menu/CloseProject.png"
	                            Command="{Binding RibbonCloseProjectCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
						</telerik:RadRibbonGroup>

						<telerik:RadRibbonGroup Header="Workspace">
							<telerik:RadRibbonButton
	                            Text="Add" 
	                            Size="Large"
	                            SmallImage="../Icons/Menu/AddWorkspace.png"
	                            Command="{Binding RibbonAddWorkspaceCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
							<telerik:RadRibbonButton
	                            Text="Remove"
	                            Size="Large" 
	                            SmallImage="../Icons/Menu/RemoveWorkspace.png"
	                            Command="{Binding RibbonRemoveWorkspaceCommand}" CommandParameter="{Binding ElementName=RadDocking}"/>
						</telerik:RadRibbonGroup>
					</telerik:RadRibbonTab>

					<!-- Ribbon Menu - Runtime -->
					<telerik:RadRibbonTab Header="Runtime" x:Name="RuntimeTab">
						<telerik:RadRibbonGroup Header="Run">
							<telerik:RadRibbonButton
								Text="Connect"
								Size="Large" 
	                            SmallImage="../Icons/Menu/Connect.png"/>
							<telerik:RadRibbonButton
	                            Text="Close" 
	                            Size="Large"
	                            SmallImage="../Icons/Menu/CloseProject.png"/>
						</telerik:RadRibbonGroup>
					</telerik:RadRibbonTab>
				</telerik:RadRibbonView.Items>
			</telerik:RadRibbonView>

			<telerik:RadDocking 
				x:Name="RadDocking"
				Grid.Row="1"
				CloseButtonPosition="InPaneAndGroup"
				AllowDragReorder="True" 
				PanesSource="{Binding ViewModels}">

				<telerik:RadDocking.DocumentHost>
					<telerik:RadSplitContainer>
						<telerik:RadPaneGroup x:Name="WorkspacePaneGroup" telerik:RadDocking.SerializationTag="WorkspacePaneGroup"/>
					</telerik:RadSplitContainer>
				</telerik:RadDocking.DocumentHost>

				<telerik:RadSplitContainer InitialPosition="DockedLeft">
					<telerik:RadPaneGroup x:Name="LeftPaneGroup" telerik:RadDocking.SerializationTag="LeftPaneGroup"/>
				</telerik:RadSplitContainer>

				<telerik:RadSplitContainer InitialPosition="DockedRight">
					<telerik:RadPaneGroup x:Name="RightPaneGroup" telerik:RadDocking.SerializationTag="RightPaneGroup"/>
				</telerik:RadSplitContainer>

				<telerik:RadSplitContainer InitialPosition="DockedBottom">
					<telerik:RadPaneGroup x:Name="BottomPaneGroup" telerik:RadDocking.SerializationTag="BottomPaneGroup"/>
				</telerik:RadSplitContainer>

				<telerik:RadDocking.DockingPanesFactory>
					<qui:TelerikDockingPanesFactory/>
				</telerik:RadDocking.DockingPanesFactory>

			</telerik:RadDocking>

		</Grid>
	</Border>

</Window>
