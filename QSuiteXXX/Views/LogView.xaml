<UserControl x:Class="Qenex.QSuite.Views.LogView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Qenex.QSuite.Views"
			 xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             mc:Ignorable="d"
             d:DesignHeight="300" d:DesignWidth="300">
	
	<UserControl.Resources>
		<ResourceDictionary>
			<local:LogLevelStyleSelector x:Key="LogLevelStyleSelector">

				<!-- Uuse syncfusion default color -->
				<!-- <local:LogLevelStyleSelector.DefaultLogBackgroundStyle> -->
				<!-- 	<Style TargetType="syncfusion:VirtualizingCellsControl"> -->
				<!-- 		<Setter Property="Foreground" Value="SlateGray"/> -->
				<!-- 	</Style> -->
				<!-- </local:LogLevelStyleSelector.DefaultLogBackgroundStyle> -->

				<!-- Uuse syncfusion default color -->
				<!-- <local:LogLevelStyleSelector.InfoLogBackgroundStyle> -->
				<!-- 	<Style TargetType="syncfusion:VirtualizingCellsControl"> -->
				<!-- 		<Setter Property="Foreground" Value="DimGray"/> -->
				<!-- 	</Style> -->
				<!-- </local:LogLevelStyleSelector.InfoLogBackgroundStyle> -->

				<local:LogLevelStyleSelector.WarningLogBackgroundStyle>
					<Style TargetType="telerik:GridViewRow">
						<Setter Property="Foreground" Value="Orange"/>
					</Style>
				</local:LogLevelStyleSelector.WarningLogBackgroundStyle>

				<local:LogLevelStyleSelector.ErrorLogBackgroundStyle>
					<Style TargetType="telerik:GridViewRow">
						<Setter Property="Foreground" Value="Red"/>
					</Style>
				</local:LogLevelStyleSelector.ErrorLogBackgroundStyle>

				<local:LogLevelStyleSelector.FatalLogBackgroundStyle>
					<Style TargetType="telerik:GridViewRow">
						<Setter Property="Foreground" Value="DarkRed"/>
					</Style>
				</local:LogLevelStyleSelector.FatalLogBackgroundStyle>

				<local:LogLevelStyleSelector.TraceLogBackgroundStyle>
					<Style TargetType="telerik:GridViewRow">
						<Setter Property="Foreground" Value="DeepSkyBlue"/>
					</Style>
				</local:LogLevelStyleSelector.TraceLogBackgroundStyle>

				<local:LogLevelStyleSelector.DebugLogBackgroundStyle>
					<Style TargetType="telerik:GridViewRow">
						<Setter Property="Foreground" Value="LightSkyBlue"/>
					</Style>
				</local:LogLevelStyleSelector.DebugLogBackgroundStyle>

			</local:LogLevelStyleSelector>
		</ResourceDictionary>
	</UserControl.Resources>

	<Grid>
		<telerik:RadGridView
			AllowDrop="False"
			ItemsSource="{Binding LogMessages}"
			ShowGroupPanel="False" 
			AutoGenerateColumns="False"
			RowStyleSelector="{StaticResource LogLevelStyleSelector}"
			RowIndicatorVisibility="Collapsed">

			<telerik:RadGridView.SortDescriptors>
				<telerik:SortDescriptor Member="Timestamp" SortDirection="Descending"/>
			</telerik:RadGridView.SortDescriptors>
			
			<telerik:RadGridView.ContextMenu>
				<ContextMenu>
					<MenuItem Header="Clear All" Command="{Binding ClearLogCommand}"/>
				</ContextMenu>
			</telerik:RadGridView.ContextMenu>

			<telerik:RadGridView.Columns>
				<telerik:GridViewDataColumn Width="160" Header="Timestamp" DataMemberBinding="{Binding Path=Timestamp, StringFormat=yyyy/MM/dd HH:mm:ss.fff}" IsReadOnly="True"/>
				<telerik:GridViewDataColumn Width="100" Header="Level" DataMemberBinding="{Binding Level}" IsReadOnly="True"/>
				<telerik:GridViewDataColumn Header="Message" DataMemberBinding="{Binding Message}" IsReadOnly="True"/>
			</telerik:RadGridView.Columns>

		</telerik:RadGridView>
	</Grid>
</UserControl>